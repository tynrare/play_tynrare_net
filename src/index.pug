head
	meta(name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0")
	link(rel="stylesheet", href="./styles/reset.css")
	link(rel="stylesheet", href="index.less")

body.fancy.game2048
	#frontdoor.fancy
		db
			include palette
			include assets/animals.xml
			images
				img#animals(src='./assets/animals.png')

			animals bear,chicken,cow,dog,elephant,giraffe,gorilla,horse,moose,owl,parrot,pig,rhino,snake,whale,buffalo,chick,crocodile,duck,frog,goat,hippo,monkey,narwhal,panda,penguin,rabbit,sloth,walrus,zebra

		sequence#dust-220523.fancy.game2048

			entry#gamestats.game2048
				showwhile game
				content
					entry#gamescore.mutable 0
					entry#leaderscore.mutable 0

			entry#game.game2048
				showwhile game
				canvas#pixi_canvas
				content.mutable

			entry#gamecontrols
				showwhile game
				content
						//button#undo.disabled
						button#game.stateswitch

			entry#gamemeta
				showon postinit
				content 
					a v6

			entry#gameover
				showwhile gameover
				content
					label#defeat Поражение
					button#game.stateswitch

			entry#devlog
				showon devmode
				content.mutable

			entry#dust-1
				//showon postinit
				showwhile root
				hideon button play
				content: h1 ohh.. no game here.. yet?
			entry#main_menu
				showwhile root
				hideon button play
				content: button#play play
			entry
				showon button play
				#hilo_container

legs
	script(type="module", src="./index.js" async defer)
	script(src="https://yandex.ru/games/sdk/v2")
	script.
		YaGames.init().then(ysdk => {
				console.log('Yandex SDK initialized');
				window.ysdk = ysdk;
				});
