html(lang="ru")

head
	meta(name="viewport" content="width=device-width, user-scalable=no, initial-scale=1.0, maximum-scale=1.0, minimum-scale=1.0")
	meta(content="text/html; charset=UTF-8" http-equiv="Content-Type")
	meta(charset=utf-8)
	link(rel="stylesheet", href="./styles/reset.css")
	link(rel="stylesheet", href="./index.less")
	script(type="module", src="./index.js" async defer)
	include thirdparty/yandexsdk
	
body.fancy.game2048
	#yandexsdk_banner_a
		#yandexsdk_banner_a_bind

	sequence#game2048-achievements
		entry
			icon.animals-css-chick
			header Первый цыпленок
			label ...
		entry
			icon.animals-css-chicken
			header Новое животное!
			label Из цыплят - в курицы
		entry
			icon.animals-css-rabbit
			header На поляне.
			label Выбегает заяц.
		entry
			icon.animals-css-pig
			header хрю!
		entry
			icon.animals-css-cow
			header Далеко-далеко
			label на лугу пасутся ко..
		entry
			icon.animals-css-goat
			header .. Козы?
		entry
			icon.animals-css-horse
			header Далеко-далеко
			label На лугу пасутся ко...
		entry
			icon.animals-css-dog
			header Друг твоего друга
		entry
			icon.animals-css-panda
			header Кунг-фу мастер
			label черный пояс по 2048
		entry
			icon.animals-css-zebra
			header Полосатая и бегает
		entry
			icon.animals-css-whale
			header Большой и плавает
		entry
			icon.animals-css-narwhal
			header Нарвал.
			label Занесен в красную книгу.
		entry
			icon.animals-css-penguin
			header Пингвин.
			label Вроде птица.. Вроде рыба.
		entry
			icon.animals-css-parrot
			header Последняя зверюшка.
			label Не учите плохим словам.


	#frontdoor.fancy
		db
			include palette
			include assets/animals.xml
			images
				img#animals(src='./assets/animals.png')

			animals chick,chicken,rabbit,pig,cow,goat,horse,dog,panda,zebra,whale,narwhal,penguin,parrot


		// game 2048 starts here
		sequence#dust-220523.fancy.game2048

			entry#gamestats.game2048
				showwhile game
				content
					entry#gamescore.mutable 0
					entry#leaderscore.mutable 0

			entry#gamecontrols.game2048
				showwhile game
				content
						//button#undo.disabled
						button#game.stateswitch

			entry#game.game2048
				showwhile game
				canvas#pixi_canvas
				content.mutable

			entry#gameover.game2048
				showwhile gameover
				content
					label#defeat Поражение
					button#game.stateswitch

			entry#gamemeta
				showon postinit
				content 
					button#credits v8
					entry#credits
						toggleon button credits
						content
							a Геймдизайн, тестирование: George
							a Код: tynrare
							a.small Графика: Kenney
							a.small Шрифт: Zyzol от Szymon Furjan

			entry#devlog
				showon devmode
				content.mutable

		sequence#dump-220523
			entry#dust-1
				//showon postinit
				showwhile root
				hideon button play
				content: h1 ohh.. no game here.. yet?
			entry#main_menu
				showwhile root
				hideon button play
				content: button#play play
			entry
				showon button play
				#hilo_container
